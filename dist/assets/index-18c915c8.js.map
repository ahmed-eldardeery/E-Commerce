{"version":3,"file":"index-18c915c8.js","sources":["../../src/lib/commerce.js","../../src/store/MainSlice.js","../../src/Theme.js","../../src/components/Loading.jsx","../../src/App.jsx","../../src/store/index.js","../../src/main.jsx"],"sourcesContent":["\nimport Commerce from '@chec/commerce.js';;\nconst checAPIKey =  import.meta.env.VITE_CHEC_PUBLIC_KEY\nconst devEnvironment = process.env.NODE_ENV === 'development';\nif (devEnvironment && !checAPIKey) {\n  throw Error('Your public API key must be provided as an environment variable named NEXT_PUBLIC_CHEC_PUBLIC_KEY. Obtain your Chec public key by logging into your Chec account and navigate to Setup > Developer, or can be obtained with the Chec CLI via with the command chec whoami');\n}\n\nexport default new Commerce(\n  checAPIKey\n);\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport commerce from \"../lib/commerce\";\nexport const fetchProducts = createAsyncThunk(\n  \"MainSlice/fetchProducts\",\n  (_, thunkAPI) => {\n    const { rejectWithValue } = thunkAPI;\n    try {\n      const Products = commerce.products.list();\n\n      return Products;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\nexport const fetchCart = createAsyncThunk(\n  \"MainSlice/fetchCart\",\n  (_, thunkAPI) => {\n    const { rejectWithValue } = thunkAPI;\n    try {\n      const Cart = commerce.cart.retrieve();\n      return Cart;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\nexport const refreshCart = createAsyncThunk(\n  \"MainSlice/refreshCart\",\n  (_, thunkAPI) => {\n    const { rejectWithValue } = thunkAPI;\n    try {\n      const Cart = commerce.cart.refresh();\n      return Cart;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n)\nexport const addToCart = createAsyncThunk(\n  \"MainSlice/addToCart\",\n  (productId, thunkAPI) => {\n    const { rejectWithValue } = thunkAPI;\n    try {\n      commerce.cart.add(productId, 1);\n\n      return commerce.cart.retrieve();\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\nexport const emptyCart = createAsyncThunk(\n  \"MainSlice/emptyCart\",\n  (_, thunkAPI) => {\n    const { rejectWithValue } = thunkAPI;\n    try {\n      commerce.cart.empty();\n      return commerce.cart.retrieve();\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const removeFromCart = createAsyncThunk(\n  \"MainSlice/removeFromCart\",\n  (itemId, thunkAPI) => {\n    const { rejectWithValue } = thunkAPI;\n    try {\n      commerce.cart.remove(itemId);\n      return commerce.cart.retrieve();\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\nexport const updateCartQty = createAsyncThunk(\n  \"MainSlice/updateCartQty\",\n  (params, thunkAPI) => {\n    const { rejectWithValue } = thunkAPI;\n    try {\n      commerce.cart.update(params.id, params.quantity);\n      return commerce.cart.retrieve();\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\nexport const MainSlice = createSlice({\n  name: \"MainSlice\",\n  initialState: {\n    productsData: [],\n    cartData: {},\n    Order : {},\n    error: null,\n    isLoading: true\n  },\n  reducers : {\n    setOrder: (state,action) => {\n      state.Order = action.payload;\n    },\n    setError: (state, action) => {\n      console.log(action.payload)\n      state.error = action.payload.data.error.message\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchProducts.fulfilled, (state, action) => {\n        state.productsData = action.payload.data;\n        state.isLoading = false;\n      })\n      .addCase(fetchProducts.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(fetchProducts.rejected, (state, action) => {\n        state.error = action.payload;\n        state.isLoading = false;\n      })\n      .addCase(fetchCart.fulfilled, (state, action) => {\n        state.cartData = action.payload;\n      })\n      // .addCase(fetchCart.pending, (state, action) => {\n      //   state.isLoading = true;\n      // })\n      .addCase(refreshCart.fulfilled, (state, action) => {\n        state.cartData = action.payload;\n      })\n      .addCase(addToCart.fulfilled, (state, action) => {\n        state.cartData = action.payload;\n      })\n      .addCase(emptyCart.fulfilled, (state, action) => {\n        state.cartData = action.payload;\n      })\n      .addCase(removeFromCart.fulfilled, (state, action) => {\n        state.cartData = action.payload;\n      })\n      .addCase(updateCartQty.fulfilled, (state, action) => {\n        state.cartData = action.payload;\n      });\n  }\n});\nexport const {setOrder , setError } = MainSlice.actions;\nexport default MainSlice.reducer;\n","import { createTheme  } from \"@mui/material/styles\";\n\nconst Theme = createTheme({\n \n  palette: {\n    primary: { main: \"#2f4ca8\" },\n    secondary: { main: \"#ff214c\" }\n  }\n});\n\nexport default Theme;\n","import React from 'react'\nimport {CircularProgress} from \"@mui/material\"\nfunction Loading({height=\"auto\"}) {\n  return (\n    <div\n    style={{\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height\n    }}\n    color='primary'\n    data-testid=\"circularLoading\"\n  >\n    <CircularProgress  />\n  </div>\n  )\n}\n\nexport default Loading","import React, { useEffect, Suspense, lazy } from \"react\";\nimport { ThemeProvider, StyledEngineProvider } from \"@mui/material/styles\";\nimport { createBrowserRouter, RouterProvider } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  fetchProducts,\n  fetchCart,\n  refreshCart,\n  setOrder,\n  setError\n} from \"./store/MainSlice\";\nimport Theme from \"./Theme.js\";\nimport Loading from \"./components/Loading\";\nimport commerce from \"./lib/commerce\"\nconst ErrorPage = lazy(() => import(\"./error-page\"));\nconst Products = lazy(() => import(\"./components/products/Products\"));\nconst Navbar = lazy(() => import(\"./components/products/Navbar/Navbar\"));\nconst Cart = lazy(() => import(\"./components/Cart/Cart\"));\nconst Checkout = lazy(() =>\n  import(\"./components/CheckoutForm/Checkout/Checkout\")\n);\n\nfunction App() {\n  const Dispatch = useDispatch();\n  const { isLoading } = useSelector((state) => state.MainSlice);\n\n  const handleCaptureCheckout = async (checkoutTokenId, newOrder) => {\n    try {\n      const incomingOrder = await commerce.checkout.capture(checkoutTokenId, {\n        ...newOrder\n      });\n\n      Dispatch(setOrder(incomingOrder));\n      Dispatch(refreshCart());\n    } catch (error) {\n      Dispatch(setError(error));\n    }\n  };\n\n  useEffect(() => {\n    if (!isLoading) {\n      Dispatch(fetchCart());\n    } else {\n      Dispatch(fetchProducts());\n    }\n  }, [isLoading]);\n  if (isLoading) {\n    return <Loading height=\"95vh\"/>;\n  }\n  const router = createBrowserRouter([\n    {\n      element: <Navbar />,\n      errorElement: <ErrorPage />,\n      children: [\n        {\n          path: \"/E-Commerce\",\n          element: <Products />\n        },\n        {\n          path: \"/E-Commerce/cart\",\n          element: <Cart />\n        },\n        {\n          path: \"/E-Commerce/checkout\",\n          element: <Checkout handleCaptureCheckout={handleCaptureCheckout} />\n        }\n      ]\n    }\n  ]);\n\n  return (\n    <div>\n      <StyledEngineProvider injectFirst>\n        <ThemeProvider theme={Theme}>\n          <Suspense fallback={<Loading height=\"95vh\"/>}>\n            <RouterProvider router={router}></RouterProvider>\n          </Suspense>\n        </ThemeProvider>\n      </StyledEngineProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport MainSlice from \"./MainSlice\";\n const store = configureStore({\n  reducer: {  MainSlice: MainSlice }, \n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\n    immutableCheck: false,\n    serializableCheck: false,\n  })\n});\nexport default store","import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./store\";\n\nconst root = createRoot(document.getElementById(\"root\"));\nroot.render(\n  // <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  // </React.StrictMode>\n);\n"],"names":["checAPIKey","commerce","Commerce","fetchProducts","createAsyncThunk","_","thunkAPI","rejectWithValue","error","fetchCart","refreshCart","addToCart","productId","emptyCart","removeFromCart","itemId","updateCartQty","params","MainSlice","createSlice","state","action","builder","setOrder","setError","MainSlice$1","Theme","createTheme","Loading","height","jsx","CircularProgress","ErrorPage","lazy","__vitePreload","Products","Navbar","Cart","Checkout","App","Dispatch","useDispatch","isLoading","useSelector","handleCaptureCheckout","checkoutTokenId","newOrder","incomingOrder","useEffect","router","createBrowserRouter","StyledEngineProvider","ThemeProvider","Suspense","RouterProvider","store","configureStore","getDefaultMiddleware","root","createRoot","Provider"],"mappings":"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"}