import{j as t,G as l,s as W,a as s,F as A,d as P,t as u,u as h,M as b,B as F}from"./@mui-3ad2abfa.js";import{r}from"./react-623f75a7.js";import{u as z,C as G,a as M,F as _}from"./react-hook-form-e66dcf21.js";import{L as $}from"./react-router-dom-117e0b0c.js";import{c as g}from"./index-bada0fbb.js";import"./react-is-41a81967.js";import"./@emotion-6ad6d3ba.js";import"./hoist-non-react-statics-92a0866e.js";import"./stylis-2d96297d.js";import"./@babel-33433dbe.js";import"./clsx-1229b3e0.js";import"./react-transition-group-9506ac11.js";import"./react-dom-17812d22.js";import"./scheduler-04ce0582.js";import"./jss-2492b69e.js";import"./is-in-browser-9e40da8a.js";import"./jss-plugin-rule-value-function-123ddbff.js";import"./jss-plugin-global-c15fb5e7.js";import"./jss-plugin-nested-468d7f1d.js";import"./jss-plugin-camel-case-92f9f32c.js";import"./hyphenate-style-name-80972348.js";import"./jss-plugin-default-unit-73b92d3c.js";import"./jss-plugin-vendor-prefixer-b6370c77.js";import"./css-vendor-557bc211.js";import"./jss-plugin-props-sort-0c9fca2f.js";import"./react-router-6a5d8ae2.js";import"./@remix-run-66cedd4c.js";import"./react-redux-c5905a92.js";import"./use-sync-external-store-b128de5a.js";import"./@reduxjs-8a615757.js";import"./immer-41fd5235.js";import"./redux-55821f40.js";import"./redux-thunk-ef899f4c.js";import"./@chec-f1626e79.js";import"./axios-419cf3fb.js";const o=({name:a,label:m})=>{const{control:d}=z();return t(l,{item:!0,xs:12,sm:6,children:t(G,{control:d,name:a,render:({field:c})=>t(W,{...c,fullWidth:!0,label:m,required:!0})})})},Ci=({checkoutToken:a,next:m})=>{const[d,c]=r.useState([]),[n,S]=r.useState(""),[O,j]=r.useState([]),[p,f]=r.useState(""),[E,L]=r.useState([]),[v,y]=r.useState(""),C=M({defaultValues:{firstName:"",lastName:"",address1:"",email:"",city:"",zip:""}}),w=async i=>{const{countries:e}=await g.services.localeListShippingCountries(i);c(e),S(Object.keys(e)[0])},N=async i=>{const{subdivisions:e}=await g.services.localeListSubdivisions(i);j(e),f(Object.keys(e)[0])},B=async(i,e,I=null)=>{const x=await g.checkout.getShippingOptions(i,{country:e,region:I});L(x),y(x[0].id)};return a&&(r.useEffect(()=>{w(a.id)},[]),r.useEffect(()=>{n&&N(n)},[n]),r.useEffect(()=>{p&&B(a.id,n,p)},[p])),s(A,{children:[t(P,{variant:"h6",gutterBottom:!0,children:"Shipping Address"}),t(_,{...C,children:s("form",{onSubmit:C.handleSubmit(i=>m({...i,shippingCountry:n,shippingSubdivision:p,shippingOption:v})),children:[s(l,{container:!0,spacing:3,children:[t(o,{name:"firstName",label:"First name"}),t(o,{name:"lastName",label:"Last name"}),t(o,{name:"address1",label:"Address"}),t(o,{name:"email",label:"Email"}),t(o,{name:"city",label:"City"}),t(o,{name:"zip",label:"ZIP / Postal code"}),s(l,{item:!0,xs:12,sm:6,children:[t(u,{children:" Shipping Coutnry"}),t(h,{value:n,fullWidth:!0,onChange:i=>S(i.target.value),children:Object.entries(d).map(([i,e])=>({id:i,label:e})).map(i=>t(b,{value:i.id,children:i.label},i.id))})]}),s(l,{item:!0,xs:12,sm:6,children:[t(u,{children:"Shipping Subdivision"}),t(h,{value:p,fullWidth:!0,onChange:i=>f(i.target.value),children:Object.entries(O).map(([i,e])=>({id:i,label:e})).map(i=>t(b,{value:i.id,children:i.label},i.id))})]}),s(l,{item:!0,xs:12,sm:6,children:[t(u,{children:"Shipping Options"}),t(h,{value:v,fullWidth:!0,onChange:i=>y(i.target.value),children:E.map(i=>({id:i.id,label:`${i.description} - (${i.price.formatted_with_symbol})`})).map(i=>t(b,{value:i.id,children:i.label},i.id))})]})]}),t("br",{}),s("div",{style:{display:"flex",justifyContent:"space-between"},children:[t($,{to:"/E-Commerce/cart",style:{textDecoration:"none"},children:t(F,{variant:"outlined",children:"Back to Cart"})}),t(F,{type:"submit",variant:"contained",children:"Next"})]})]})})]})};export{Ci as default};
//# sourceMappingURL=AddressForm-9f00712d.js.map
