import{j as t,G as l,n as W,a as s,F as A,b as P,o as u,p as h,M as b,B as F}from"./@mui-fed08a08.js";import{r}from"./react-f6220408.js";import{u as z,C as G,a as M,F as _}from"./react-hook-form-411bd6a4.js";import{L as $}from"./react-router-dom-ca2fbd96.js";import{c as g}from"./index-f7c71ce9.js";import"./react-is-41a81967.js";import"./@emotion-ebc33efc.js";import"./hoist-non-react-statics-7b00c3a5.js";import"./stylis-2d96297d.js";import"./@babel-c5a05878.js";import"./clsx-db8b4e51.js";import"./react-transition-group-5f3ad629.js";import"./react-dom-1ca48330.js";import"./scheduler-04ce0582.js";import"./jss-ef42abc8.js";import"./is-in-browser-d5415ab8.js";import"./jss-plugin-rule-value-function-7e355bb4.js";import"./jss-plugin-global-94ad91eb.js";import"./jss-plugin-nested-d3924001.js";import"./jss-plugin-camel-case-18998b63.js";import"./hyphenate-style-name-251b432a.js";import"./jss-plugin-default-unit-31584d62.js";import"./jss-plugin-vendor-prefixer-bfbd7a71.js";import"./css-vendor-9bce8e55.js";import"./jss-plugin-props-sort-46816cce.js";import"./react-router-8e0836ea.js";import"./@remix-run-66cedd4c.js";import"./react-redux-b7fd3a09.js";import"./use-sync-external-store-c23b6145.js";import"./@reduxjs-51314f8e.js";import"./immer-41fd5235.js";import"./redux-527f0686.js";import"./redux-thunk-ef899f4c.js";import"./@chec-901e37a3.js";import"./axios-419cf3fb.js";import"./@material-ui-7c431d41.js";const o=({name:a,label:m})=>{const{control:c}=z();return t(l,{item:!0,xs:12,sm:6,children:t(G,{control:c,name:a,render:({field:d})=>t(W,{...d,fullWidth:!0,label:m,required:!0})})})},xi=({checkoutToken:a,next:m})=>{const[c,d]=r.useState([]),[n,S]=r.useState(""),[O,j]=r.useState([]),[p,f]=r.useState(""),[E,L]=r.useState([]),[v,y]=r.useState(""),C=M({defaultValues:{firstName:"",lastName:"",address1:"",email:"",city:"",zip:""}}),w=async i=>{const{countries:e}=await g.services.localeListShippingCountries(i);d(e),S(Object.keys(e)[0])},N=async i=>{const{subdivisions:e}=await g.services.localeListSubdivisions(i);j(e),f(Object.keys(e)[0])},B=async(i,e,I=null)=>{const x=await g.checkout.getShippingOptions(i,{country:e,region:I});L(x),y(x[0].id)};return a&&(r.useEffect(()=>{w(a.id)},[]),r.useEffect(()=>{n&&N(n)},[n]),r.useEffect(()=>{p&&B(a.id,n,p)},[p])),s(A,{children:[t(P,{variant:"h6",gutterBottom:!0,children:"Shipping Address"}),t(_,{...C,children:s("form",{onSubmit:C.handleSubmit(i=>m({...i,shippingCountry:n,shippingSubdivision:p,shippingOption:v})),children:[s(l,{container:!0,spacing:3,children:[t(o,{name:"firstName",label:"First name"}),t(o,{name:"lastName",label:"Last name"}),t(o,{name:"address1",label:"Address"}),t(o,{name:"email",label:"Email"}),t(o,{name:"city",label:"City"}),t(o,{name:"zip",label:"ZIP / Postal code"}),s(l,{item:!0,xs:12,sm:6,children:[t(u,{children:" Shipping Coutnry"}),t(h,{value:n,fullWidth:!0,onChange:i=>S(i.target.value),children:Object.entries(c).map(([i,e])=>({id:i,label:e})).map(i=>t(b,{value:i.id,children:i.label},i.id))})]}),s(l,{item:!0,xs:12,sm:6,children:[t(u,{children:"Shipping Subdivision"}),t(h,{value:p,fullWidth:!0,onChange:i=>f(i.target.value),children:Object.entries(O).map(([i,e])=>({id:i,label:e})).map(i=>t(b,{value:i.id,children:i.label},i.id))})]}),s(l,{item:!0,xs:12,sm:6,children:[t(u,{children:"Shipping Options"}),t(h,{value:v,fullWidth:!0,onChange:i=>y(i.target.value),children:E.map(i=>({id:i.id,label:`${i.description} - (${i.price.formatted_with_symbol})`})).map(i=>t(b,{value:i.id,children:i.label},i.id))})]})]}),t("br",{}),s("div",{style:{display:"flex",justifyContent:"space-between"},children:[t($,{to:"/E-Commerce/cart",style:{textDecoration:"none"},children:t(F,{variant:"outlined",color:"secondary",children:"Back to Cart"})}),t(F,{type:"submit",variant:"contained",color:"secondary",children:"Next"})]})]})})]})};export{xi as default};
//# sourceMappingURL=AddressForm-740b0beb.js.map
