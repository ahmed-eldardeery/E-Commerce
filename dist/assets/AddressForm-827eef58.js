import{j as e,G as l,r as W,a as n,F as A,b as P,t as u,u as h,M as b,B as F}from"./@mui-24e6f699.js";import{r as s}from"./react-213325bd.js";import{u as z,C as G,a as M,F as _}from"./react-hook-form-ad2d7de2.js";import{L as $}from"./react-router-dom-2068f720.js";import{c as g}from"./index-faf9c341.js";import"./react-is-41a81967.js";import"./@emotion-4ba0892a.js";import"./hoist-non-react-statics-92a0866e.js";import"./@babel-de422ddc.js";import"./stylis-2d96297d.js";import"./clsx-1229b3e0.js";import"./react-transition-group-c79f5d47.js";import"./react-dom-7ddf5457.js";import"./scheduler-04ce0582.js";import"./react-router-1baea72a.js";import"./@remix-run-66cedd4c.js";import"./react-redux-486f298f.js";import"./use-sync-external-store-94d164a7.js";import"./@reduxjs-a29ed202.js";import"./immer-41fd5235.js";import"./redux-5df2d229.js";import"./redux-thunk-ef899f4c.js";import"./@chec-4e715cfd.js";import"./axios-419cf3fb.js";const a=({name:o,label:c})=>{const{control:d}=z();return e(l,{item:!0,xs:12,sm:6,children:e(G,{control:d,name:o,render:({field:m})=>e(W,{...m,fullWidth:!0,label:c,required:!0})})})},ci=({checkoutToken:o,next:c})=>{const[d,m]=s.useState([]),[r,S]=s.useState(""),[O,j]=s.useState([]),[p,f]=s.useState(""),[E,L]=s.useState([]),[v,y]=s.useState(""),C=M({defaultValues:{firstName:"",lastName:"",address1:"",email:"",city:"",zip:""}}),w=async i=>{const{countries:t}=await g.services.localeListShippingCountries(i);m(t),S(Object.keys(t)[0])},N=async i=>{const{subdivisions:t}=await g.services.localeListSubdivisions(i);j(t),f(Object.keys(t)[0])},B=async(i,t,I=null)=>{const x=await g.checkout.getShippingOptions(i,{country:t,region:I});L(x),y(x[0].id)};return o&&(s.useEffect(()=>{w(o.id)},[]),s.useEffect(()=>{r&&N(r)},[r]),s.useEffect(()=>{p&&B(o.id,r,p)},[p])),n(A,{children:[e(P,{variant:"h6",gutterBottom:!0,children:"Shipping Address"}),e(_,{...C,children:n("form",{onSubmit:C.handleSubmit(i=>c({...i,shippingCountry:r,shippingSubdivision:p,shippingOption:v})),children:[n(l,{container:!0,spacing:3,children:[e(a,{name:"firstName",label:"First name"}),e(a,{name:"lastName",label:"Last name"}),e(a,{name:"address1",label:"Address"}),e(a,{name:"email",label:"Email"}),e(a,{name:"city",label:"City"}),e(a,{name:"zip",label:"ZIP / Postal code"}),n(l,{item:!0,xs:12,sm:6,children:[e(u,{children:" Shipping Coutnry"}),e(h,{value:r,fullWidth:!0,onChange:i=>S(i.target.value),children:Object.entries(d).map(([i,t])=>({id:i,label:t})).map(i=>e(b,{value:i.id,children:i.label},i.id))})]}),n(l,{item:!0,xs:12,sm:6,children:[e(u,{children:"Shipping Subdivision"}),e(h,{value:p,fullWidth:!0,onChange:i=>f(i.target.value),children:Object.entries(O).map(([i,t])=>({id:i,label:t})).map(i=>e(b,{value:i.id,children:i.label},i.id))})]}),n(l,{item:!0,xs:12,sm:6,children:[e(u,{children:"Shipping Options"}),e(h,{value:v,fullWidth:!0,onChange:i=>y(i.target.value),children:E.map(i=>({id:i.id,label:`${i.description} - (${i.price.formatted_with_symbol})`})).map(i=>e(b,{value:i.id,children:i.label},i.id))})]})]}),e("br",{}),n("div",{style:{display:"flex",justifyContent:"space-between"},children:[e($,{to:"/E-Commerce/cart",style:{textDecoration:"none"},children:e(F,{variant:"outlined",children:"Back to Cart"})}),e(F,{type:"submit",variant:"contained",children:"Next"})]})]})})]})};export{ci as default};
//# sourceMappingURL=AddressForm-827eef58.js.map
